import n from"bs-platform/lib/js/belt_Array.js";import t from"bs-platform/lib/js/curry.js";import e from"bs-platform/lib/js/belt_Option.js";import r from"react";import o from"bs-platform/lib/js/caml_obj.js";var i={onKeyDown:function(n,e,r,o,i,u,c,s,l,f,a){var d=a.key,h=a.shiftKey;switch("Tab"!==d&&a.preventDefault(),d){case"ArrowDown":return n?h?t._1(s,void 0):t._1(i,void 0):t._1(f,void 0);case"ArrowUp":return n?h?t._1(c,void 0):t._1(u,void 0):t._1(f,void 0);case"End":return n?t._1(o,void 0):void 0;case" ":case"Enter":return n?(t._1(l,void 0),t._1(e,void 0)):t._1(f,void 0);case"Escape":return n?t._1(e,void 0):void 0;case"Home":return n?t._1(r,void 0):void 0;default:return}},onBlur:function(n,e){return t._1(n,void 0)},onFocus:function(r,o,i){return t._1(o,e.getWithDefault(n.get(n.reverse(r),0),0))},onClick:function(n,e,r){return t._1(e,n)}};function u(n){return 0}function c(n,t){return 1==(n-t|0)?0:t+1|0}function s(n,t){return t<=0?n-1|0:t-1|0}function l(n){return-1}function f(e,r,i,u,c){var s=void 0!==e&&e;t._1(i,(function(n){return c})),t._1(u,(function(t){var e=n.some(t,(function(n){return o.caml_equal(c,n)}));return r?s?e?t:n.concat(t,[c]):e?n.keep(t,(function(n){return o.caml_notequal(c,n)})):n.concat(t,[c]):s?e?t:[c]:[]}))}var a={Navigation:{firstIndex:u,lastIndex:function(n,t){return n-1|0},nextIndex:c,prevIndex:s,reset:l},equals:o.caml_equal,diff:o.caml_notequal,selectIndex:f,useControls:function(n,e){var o=void 0!==n&&n,i=r.useState((function(){return[]})),a=i[1],d=r.useState((function(){return-1})),h=d[1],g=d[0];return{highlightedIndex:g,highlightFirst:function(n){return t._1(h,u)},highlightIndex:function(n){return t._1(h,(function(t){return n}))},highlightLast:function(n){return t._1(h,(function(n){return e-1|0}))},highlightNext:function(n){return t._1(h,(function(n){return c(e,n)}))},highlightPrev:function(n){return t._1(h,(function(n){return s(e,n)}))},resetHighlighted:function(n){return t._1(h,l)},selectedIndexes:i[0],selectHighlighted:function(n){return f(void 0,o,h,a,g)},selectIndex:function(n){return f(void 0,o,h,a,n)},selectNext:function(n){return f(!0,o,h,a,c(e,g))},selectPrev:function(n){return f(!0,o,h,a,s(e,g))}}}};function d(n){}var h=d,g=function(t,e,r){var o=void 0!==e&&e,u=t.length,c=a.useControls(o,u),s=c.selectPrev,l=c.selectNext,f=c.selectIndex,h=c.selectHighlighted,g=c.selectedIndexes,v=c.resetHighlighted,_=c.highlightPrev,x=c.highlightNext,p=c.highlightLast,m=c.highlightIndex,b=c.highlightFirst;return{highlightedIndex:c.highlightedIndex,selectedIndexes:g,getOptionProps:function(t){return{"aria-selected":n.some(g,(function(n){return n===t})),role:"option",onClick:function(n){return i.onClick(t,f,n)}}},getContainerProps:function(n){return{role:"listbox",tabIndex:0,onBlur:function(n){return i.onBlur(v,n)},onKeyDown:function(n){return i.onKeyDown(!0,d,b,p,x,_,s,l,h,(function(n){}),n)},onFocus:function(n){return i.onFocus(g,m,n)}}}}},v={noop:h,useListbox:g};export default v;export{h as noop,g as useListbox};
